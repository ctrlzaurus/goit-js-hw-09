{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAWC,SAASC,cAAc,WAClCC,EAAUF,SAASC,cAAc,UACjCE,EAASH,SAASC,cAAc,SA2BtC,SAASG,EAAUC,EAAUC,GAC7BC,EAAAV,GAASW,OAAOC,QACV,uBAAwCC,OAAfL,EAAS,QAAYK,OAANJ,EAAM,MAC5C,CACAK,QAAS,K,CAKjB,SAASC,EAAQP,EAAUC,GACzBC,EAAAV,GAASW,OAAOK,QACR,sBAAqCH,OAAfL,EAAS,QAAYK,OAANJ,EAAM,MAC7C,CACAK,QAAS,K,CAMjB,SAASG,EAAcT,EAAUC,GAC/B,IAAMS,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACPN,EACFI,EAAQ,CAACd,WAAUC,UAEnBc,EAAO,CAACf,WAAUC,S,GAEnBA,E,IAvDUN,SAASC,cAAc,SAE/BqB,iBAAiB,UAExB,SAAoBC,GAClBA,EAAEC,iBAOF,IANA,IAAMC,EAASC,OAAO3B,EAAS4B,OACzBC,EAAQF,OAAOxB,EAAQyB,OACvBE,EAAOH,OAAOvB,EAAOwB,OAEvBG,EAASF,EAEJG,EAAI,EAAGA,GAAKN,EAAQM,IAG3BjB,EAAciB,EAAGD,GAChBE,MAAK,SAAAC,GACJ7B,EADe6B,EAAR5B,SAAe4B,EAAL3B,M,IAGlB4B,OAAM,SAAAD,GACLrB,EADgBqB,EAAR5B,SAAe4B,EAAL3B,M,IAGpBwB,GAAUD,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst amountEl = document.querySelector('#amount');\nconst delayEl = document.querySelector('#delay');\nconst stepEl = document.querySelector('#step');\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', formSubmit);\n\nfunction formSubmit(e) {\n  e.preventDefault();\n  const AMOUNT = Number(amountEl.value);\n  const DELAY = Number(delayEl.value);\n  const STEP = Number(stepEl.value);\n\n  let fDelay = DELAY;\n\n  for (let i = 1; i <= AMOUNT; i++) {\n    // console.log(Number(element));\n\n    createPromise(i, fDelay)\n    .then(({ position, delay }) => {\n      onSuccess(position, delay);\n      })\n    .catch(({ position, delay }) => {\n      onError(position, delay);\n      });\n    fDelay += STEP;\n  };\n}\n\nfunction onSuccess(position, delay) {\nNotiflix.Notify.success(\n      `✅ Fulfilled promise ${position} in ${delay}ms`,\n      {\n        timeout: 2000,\n       },\n     );\n}\n\nfunction onError(position, delay) {\n  Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`,\n        {\n        timeout: 2000,\n        },\n     );\n}\n\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n    if (shouldResolve) {\n      resolve({position, delay});\n    } else {\n      reject({position, delay});\n    }\n  }, delay);\n});\n}"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$amountEl","document","querySelector","$ce04d3a99e08e73b$var$delayEl","$ce04d3a99e08e73b$var$stepEl","$ce04d3a99e08e73b$var$onSuccess","position","delay","$parcel$interopDefault","Notify","success","concat","timeout","$ce04d3a99e08e73b$var$onError","failure","$ce04d3a99e08e73b$var$createPromise","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","e","preventDefault","AMOUNT","Number","value","DELAY","STEP","fDelay","i","then","param","catch"],"version":3,"file":"03-promises.642cff02.js.map"}